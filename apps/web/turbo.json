{
  "extends": ["//"],
  "tasks": {
    "build": {
      "env": [
        "DATABASE_URL",
        "REDIS_URL",
        "BETTER_AUTH_SECRET",
        "NEXT_PUBLIC_WEB_URL",
        "GOOGLE_CLIENT_ID",
        "GOOGLE_CLIENT_SECRET",
        "GOOGLE_WEBHOOK_TOKEN",
        "GOOGLE_MAPS_API_KEY",
        "APPLE_CLIENT_ID",
        "APPLE_CLIENT_SECRET",
        "AXIOM_API_TOKEN",
        "AXIOM_DATASET",
        "APPLE_APP_BUNDLE_IDENTIFIER",
        "OPENAI_API_KEY"
      ],
      "outputs": [".next/**", "!.next/cache/**"]
    },
    "build:prod": {
      "dependsOn": ["^build"],
      "cache": true,
      "outputs": [".next/**", "!.next/cache/**"]
    },
    "build:prod:desktop": {
      "dependsOn": ["^build"],
      "cache": true,
      "outputs": ["src-tauri/target/aarch64-apple-darwin/release/bundle/**"]
    },
    "submit:prod:desktop": {
      "dependsOn": ["build:prod:desktop"],
      "cache": true
    }
  }
}
